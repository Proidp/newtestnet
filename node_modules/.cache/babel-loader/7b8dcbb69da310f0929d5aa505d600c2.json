{"ast":null,"code":"\"use strict\"; // Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar bn_js_1 = __importDefault(require(\"bn.js\"));\n\nvar types_1 = require(\"./types\");\n\nvar INT_STRING_REGEX = /^[0-9]*$/;\nvar HEXADECIMAL_STRING_REGEX = /^[a-f0-9]*$/;\n\nfunction hexStringFromBuffer(buf) {\n  var includePrefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var hex = buf.toString(\"hex\");\n  return types_1.HexString(includePrefix ? \"0x\" + hex : hex);\n}\n\nexports.hexStringFromBuffer = hexStringFromBuffer;\n\nfunction bigIntStringFromBN(bn) {\n  return types_1.BigIntString(bn.toString(10));\n}\n\nexports.bigIntStringFromBN = bigIntStringFromBN;\n\nfunction intNumberFromHexString(hex) {\n  return types_1.IntNumber(new bn_js_1.default(ensureEvenLengthHexString(hex, false), 16).toNumber());\n}\n\nexports.intNumberFromHexString = intNumberFromHexString;\n\nfunction hexStringFromIntNumber(num) {\n  return types_1.HexString(\"0x\" + new bn_js_1.default(num).toString(16));\n}\n\nexports.hexStringFromIntNumber = hexStringFromIntNumber;\n\nfunction has0xPrefix(str) {\n  return str.startsWith(\"0x\") || str.startsWith(\"0X\");\n}\n\nexports.has0xPrefix = has0xPrefix;\n\nfunction strip0x(hex) {\n  if (has0xPrefix(hex)) {\n    return hex.slice(2);\n  }\n\n  return hex;\n}\n\nexports.strip0x = strip0x;\n\nfunction prepend0x(hex) {\n  if (has0xPrefix(hex)) {\n    return \"0x\" + hex.slice(2);\n  }\n\n  return \"0x\" + hex;\n}\n\nexports.prepend0x = prepend0x;\n\nfunction isHexString(hex) {\n  if (typeof hex !== \"string\") {\n    return false;\n  }\n\n  var s = strip0x(hex).toLowerCase();\n  return HEXADECIMAL_STRING_REGEX.test(s);\n}\n\nexports.isHexString = isHexString;\n\nfunction ensureHexString(hex) {\n  var includePrefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  if (typeof hex === \"string\") {\n    var s = strip0x(hex).toLowerCase();\n\n    if (HEXADECIMAL_STRING_REGEX.test(s)) {\n      return types_1.HexString(includePrefix ? \"0x\" + s : s);\n    }\n  }\n\n  throw new Error(\"\\\"\".concat(hex, \"\\\" is not a hexadecimal string\"));\n}\n\nexports.ensureHexString = ensureHexString;\n\nfunction ensureEvenLengthHexString(hex) {\n  var includePrefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var h = ensureHexString(hex, false);\n\n  if (h.length % 2 === 1) {\n    h = types_1.HexString(\"0\" + h);\n  }\n\n  return includePrefix ? types_1.HexString(\"0x\" + h) : h;\n}\n\nexports.ensureEvenLengthHexString = ensureEvenLengthHexString;\n\nfunction ensureAddressString(str) {\n  if (typeof str === \"string\") {\n    var s = strip0x(str).toLowerCase();\n\n    if (isHexString(s) && s.length === 40) {\n      return types_1.AddressString(prepend0x(s));\n    }\n  }\n\n  throw new Error(\"Invalid Ethereum address: \".concat(str));\n}\n\nexports.ensureAddressString = ensureAddressString;\n\nfunction ensureBuffer(str) {\n  if (Buffer.isBuffer(str)) {\n    return str;\n  }\n\n  if (typeof str === \"string\") {\n    if (isHexString(str)) {\n      var s = ensureEvenLengthHexString(str, false);\n      return Buffer.from(s, \"hex\");\n    } else {\n      return Buffer.from(str, \"utf8\");\n    }\n  }\n\n  throw new Error(\"Not binary data: \".concat(str));\n}\n\nexports.ensureBuffer = ensureBuffer;\n\nfunction ensureIntNumber(num) {\n  if (typeof num === \"number\" && Number.isInteger(num)) {\n    return types_1.IntNumber(num);\n  }\n\n  if (typeof num === \"string\") {\n    if (INT_STRING_REGEX.test(num)) {\n      return types_1.IntNumber(Number(num));\n    }\n\n    if (isHexString(num)) {\n      return types_1.IntNumber(new bn_js_1.default(ensureEvenLengthHexString(num, false), 16).toNumber());\n    }\n  }\n\n  throw new Error(\"Not an integer: \".concat(num));\n}\n\nexports.ensureIntNumber = ensureIntNumber;\n\nfunction ensureRegExpString(regExp) {\n  if (regExp instanceof RegExp) {\n    return types_1.RegExpString(regExp.toString());\n  }\n\n  throw new Error(\"Not a RegExp: \".concat(regExp));\n}\n\nexports.ensureRegExpString = ensureRegExpString;\n\nfunction ensureBN(val) {\n  if (val != null && (bn_js_1.default.isBN(val) || isBigNumber(val))) {\n    return new bn_js_1.default(val.toString(10), 10);\n  }\n\n  if (typeof val === \"number\") {\n    return new bn_js_1.default(ensureIntNumber(val));\n  }\n\n  if (typeof val === \"string\") {\n    if (INT_STRING_REGEX.test(val)) {\n      return new bn_js_1.default(val, 10);\n    }\n\n    if (isHexString(val)) {\n      return new bn_js_1.default(ensureEvenLengthHexString(val, false), 16);\n    }\n  }\n\n  throw new Error(\"Not an integer: \".concat(val));\n}\n\nexports.ensureBN = ensureBN;\n\nfunction isBigNumber(val) {\n  if (val == null || typeof val.constructor !== \"function\") {\n    return false;\n  }\n\n  var constructor = val.constructor;\n  return typeof constructor.config === \"function\" && typeof constructor.EUCLID === \"number\";\n}\n\nexports.isBigNumber = isBigNumber;\n\nfunction range(start, stop) {\n  return Array.from({\n    length: stop - start\n  }, function (_, i) {\n    return start + i;\n  });\n}\n\nexports.range = range;\n\nfunction getFavicon() {\n  var el = document.querySelector('link[sizes=\"192x192\"]') || document.querySelector('link[sizes=\"180x180\"]') || document.querySelector('link[rel=\"icon\"]') || document.querySelector('link[rel=\"shortcut icon\"]');\n  var _document$location = document.location,\n      protocol = _document$location.protocol,\n      host = _document$location.host;\n  var href = el ? el.getAttribute(\"href\") : null;\n\n  if (!href || href.startsWith(\"javascript:\")) {\n    return null;\n  }\n\n  if (href.startsWith(\"http://\") || href.startsWith(\"https://\") || href.startsWith(\"data:\")) {\n    return href;\n  }\n\n  if (href.startsWith(\"//\")) {\n    return protocol + href;\n  }\n\n  return \"\".concat(protocol, \"//\").concat(host).concat(href);\n}\n\nexports.getFavicon = getFavicon;","map":{"version":3,"sources":["C:/Users/Prodip/Desktop/New folder/Newfolder1/XinoSwapTestnet/node_modules/walletlink/dist/util.js"],"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","bn_js_1","require","types_1","INT_STRING_REGEX","HEXADECIMAL_STRING_REGEX","hexStringFromBuffer","buf","includePrefix","hex","toString","HexString","bigIntStringFromBN","bn","BigIntString","intNumberFromHexString","IntNumber","default","ensureEvenLengthHexString","toNumber","hexStringFromIntNumber","num","has0xPrefix","str","startsWith","strip0x","slice","prepend0x","isHexString","s","toLowerCase","test","ensureHexString","Error","h","length","ensureAddressString","AddressString","ensureBuffer","Buffer","isBuffer","from","ensureIntNumber","Number","isInteger","ensureRegExpString","regExp","RegExp","RegExpString","ensureBN","val","isBN","isBigNumber","constructor","config","EUCLID","range","start","stop","Array","_","i","getFavicon","el","document","querySelector","location","protocol","host","href","getAttribute"],"mappings":"AAAA,a,CACA;AACA;AACA;;AACA,IAAIA,eAAe,GAAI,QAAQ,KAAKA,eAAd,IAAkC,UAAUC,GAAV,EAAe;AACnE,SAAQA,GAAG,IAAIA,GAAG,CAACC,UAAZ,GAA0BD,GAA1B,GAAgC;AAAE,eAAWA;AAAb,GAAvC;AACH,CAFD;;AAGAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAMC,OAAO,GAAGP,eAAe,CAACQ,OAAO,CAAC,OAAD,CAAR,CAA/B;;AACA,IAAMC,OAAO,GAAGD,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAME,gBAAgB,GAAG,UAAzB;AACA,IAAMC,wBAAwB,GAAG,aAAjC;;AACA,SAASC,mBAAT,CAA6BC,GAA7B,EAAyD;AAAA,MAAvBC,aAAuB,uEAAP,KAAO;AACrD,MAAMC,GAAG,GAAGF,GAAG,CAACG,QAAJ,CAAa,KAAb,CAAZ;AACA,SAAOP,OAAO,CAACQ,SAAR,CAAkBH,aAAa,GAAG,OAAOC,GAAV,GAAgBA,GAA/C,CAAP;AACH;;AACDV,OAAO,CAACO,mBAAR,GAA8BA,mBAA9B;;AACA,SAASM,kBAAT,CAA4BC,EAA5B,EAAgC;AAC5B,SAAOV,OAAO,CAACW,YAAR,CAAqBD,EAAE,CAACH,QAAH,CAAY,EAAZ,CAArB,CAAP;AACH;;AACDX,OAAO,CAACa,kBAAR,GAA6BA,kBAA7B;;AACA,SAASG,sBAAT,CAAgCN,GAAhC,EAAqC;AACjC,SAAON,OAAO,CAACa,SAAR,CAAkB,IAAIf,OAAO,CAACgB,OAAZ,CAAoBC,yBAAyB,CAACT,GAAD,EAAM,KAAN,CAA7C,EAA2D,EAA3D,EAA+DU,QAA/D,EAAlB,CAAP;AACH;;AACDpB,OAAO,CAACgB,sBAAR,GAAiCA,sBAAjC;;AACA,SAASK,sBAAT,CAAgCC,GAAhC,EAAqC;AACjC,SAAOlB,OAAO,CAACQ,SAAR,CAAkB,OAAO,IAAIV,OAAO,CAACgB,OAAZ,CAAoBI,GAApB,EAAyBX,QAAzB,CAAkC,EAAlC,CAAzB,CAAP;AACH;;AACDX,OAAO,CAACqB,sBAAR,GAAiCA,sBAAjC;;AACA,SAASE,WAAT,CAAqBC,GAArB,EAA0B;AACtB,SAAOA,GAAG,CAACC,UAAJ,CAAe,IAAf,KAAwBD,GAAG,CAACC,UAAJ,CAAe,IAAf,CAA/B;AACH;;AACDzB,OAAO,CAACuB,WAAR,GAAsBA,WAAtB;;AACA,SAASG,OAAT,CAAiBhB,GAAjB,EAAsB;AAClB,MAAIa,WAAW,CAACb,GAAD,CAAf,EAAsB;AAClB,WAAOA,GAAG,CAACiB,KAAJ,CAAU,CAAV,CAAP;AACH;;AACD,SAAOjB,GAAP;AACH;;AACDV,OAAO,CAAC0B,OAAR,GAAkBA,OAAlB;;AACA,SAASE,SAAT,CAAmBlB,GAAnB,EAAwB;AACpB,MAAIa,WAAW,CAACb,GAAD,CAAf,EAAsB;AAClB,WAAO,OAAOA,GAAG,CAACiB,KAAJ,CAAU,CAAV,CAAd;AACH;;AACD,SAAO,OAAOjB,GAAd;AACH;;AACDV,OAAO,CAAC4B,SAAR,GAAoBA,SAApB;;AACA,SAASC,WAAT,CAAqBnB,GAArB,EAA0B;AACtB,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AACzB,WAAO,KAAP;AACH;;AACD,MAAMoB,CAAC,GAAGJ,OAAO,CAAChB,GAAD,CAAP,CAAaqB,WAAb,EAAV;AACA,SAAOzB,wBAAwB,CAAC0B,IAAzB,CAA8BF,CAA9B,CAAP;AACH;;AACD9B,OAAO,CAAC6B,WAAR,GAAsBA,WAAtB;;AACA,SAASI,eAAT,CAAyBvB,GAAzB,EAAqD;AAAA,MAAvBD,aAAuB,uEAAP,KAAO;;AACjD,MAAI,OAAOC,GAAP,KAAe,QAAnB,EAA6B;AACzB,QAAMoB,CAAC,GAAGJ,OAAO,CAAChB,GAAD,CAAP,CAAaqB,WAAb,EAAV;;AACA,QAAIzB,wBAAwB,CAAC0B,IAAzB,CAA8BF,CAA9B,CAAJ,EAAsC;AAClC,aAAO1B,OAAO,CAACQ,SAAR,CAAkBH,aAAa,GAAG,OAAOqB,CAAV,GAAcA,CAA7C,CAAP;AACH;AACJ;;AACD,QAAM,IAAII,KAAJ,aAAcxB,GAAd,oCAAN;AACH;;AACDV,OAAO,CAACiC,eAAR,GAA0BA,eAA1B;;AACA,SAASd,yBAAT,CAAmCT,GAAnC,EAA+D;AAAA,MAAvBD,aAAuB,uEAAP,KAAO;AAC3D,MAAI0B,CAAC,GAAGF,eAAe,CAACvB,GAAD,EAAM,KAAN,CAAvB;;AACA,MAAIyB,CAAC,CAACC,MAAF,GAAW,CAAX,KAAiB,CAArB,EAAwB;AACpBD,IAAAA,CAAC,GAAG/B,OAAO,CAACQ,SAAR,CAAkB,MAAMuB,CAAxB,CAAJ;AACH;;AACD,SAAO1B,aAAa,GAAGL,OAAO,CAACQ,SAAR,CAAkB,OAAOuB,CAAzB,CAAH,GAAiCA,CAArD;AACH;;AACDnC,OAAO,CAACmB,yBAAR,GAAoCA,yBAApC;;AACA,SAASkB,mBAAT,CAA6Bb,GAA7B,EAAkC;AAC9B,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AACzB,QAAMM,CAAC,GAAGJ,OAAO,CAACF,GAAD,CAAP,CAAaO,WAAb,EAAV;;AACA,QAAIF,WAAW,CAACC,CAAD,CAAX,IAAkBA,CAAC,CAACM,MAAF,KAAa,EAAnC,EAAuC;AACnC,aAAOhC,OAAO,CAACkC,aAAR,CAAsBV,SAAS,CAACE,CAAD,CAA/B,CAAP;AACH;AACJ;;AACD,QAAM,IAAII,KAAJ,qCAAuCV,GAAvC,EAAN;AACH;;AACDxB,OAAO,CAACqC,mBAAR,GAA8BA,mBAA9B;;AACA,SAASE,YAAT,CAAsBf,GAAtB,EAA2B;AACvB,MAAIgB,MAAM,CAACC,QAAP,CAAgBjB,GAAhB,CAAJ,EAA0B;AACtB,WAAOA,GAAP;AACH;;AACD,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AACzB,QAAIK,WAAW,CAACL,GAAD,CAAf,EAAsB;AAClB,UAAMM,CAAC,GAAGX,yBAAyB,CAACK,GAAD,EAAM,KAAN,CAAnC;AACA,aAAOgB,MAAM,CAACE,IAAP,CAAYZ,CAAZ,EAAe,KAAf,CAAP;AACH,KAHD,MAIK;AACD,aAAOU,MAAM,CAACE,IAAP,CAAYlB,GAAZ,EAAiB,MAAjB,CAAP;AACH;AACJ;;AACD,QAAM,IAAIU,KAAJ,4BAA8BV,GAA9B,EAAN;AACH;;AACDxB,OAAO,CAACuC,YAAR,GAAuBA,YAAvB;;AACA,SAASI,eAAT,CAAyBrB,GAAzB,EAA8B;AAC1B,MAAI,OAAOA,GAAP,KAAe,QAAf,IAA2BsB,MAAM,CAACC,SAAP,CAAiBvB,GAAjB,CAA/B,EAAsD;AAClD,WAAOlB,OAAO,CAACa,SAAR,CAAkBK,GAAlB,CAAP;AACH;;AACD,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AACzB,QAAIjB,gBAAgB,CAAC2B,IAAjB,CAAsBV,GAAtB,CAAJ,EAAgC;AAC5B,aAAOlB,OAAO,CAACa,SAAR,CAAkB2B,MAAM,CAACtB,GAAD,CAAxB,CAAP;AACH;;AACD,QAAIO,WAAW,CAACP,GAAD,CAAf,EAAsB;AAClB,aAAOlB,OAAO,CAACa,SAAR,CAAkB,IAAIf,OAAO,CAACgB,OAAZ,CAAoBC,yBAAyB,CAACG,GAAD,EAAM,KAAN,CAA7C,EAA2D,EAA3D,EAA+DF,QAA/D,EAAlB,CAAP;AACH;AACJ;;AACD,QAAM,IAAIc,KAAJ,2BAA6BZ,GAA7B,EAAN;AACH;;AACDtB,OAAO,CAAC2C,eAAR,GAA0BA,eAA1B;;AACA,SAASG,kBAAT,CAA4BC,MAA5B,EAAoC;AAChC,MAAIA,MAAM,YAAYC,MAAtB,EAA8B;AAC1B,WAAO5C,OAAO,CAAC6C,YAAR,CAAqBF,MAAM,CAACpC,QAAP,EAArB,CAAP;AACH;;AACD,QAAM,IAAIuB,KAAJ,yBAA2Ba,MAA3B,EAAN;AACH;;AACD/C,OAAO,CAAC8C,kBAAR,GAA6BA,kBAA7B;;AACA,SAASI,QAAT,CAAkBC,GAAlB,EAAuB;AACnB,MAAIA,GAAG,IAAI,IAAP,KAAgBjD,OAAO,CAACgB,OAAR,CAAgBkC,IAAhB,CAAqBD,GAArB,KAA6BE,WAAW,CAACF,GAAD,CAAxD,CAAJ,EAAoE;AAChE,WAAO,IAAIjD,OAAO,CAACgB,OAAZ,CAAoBiC,GAAG,CAACxC,QAAJ,CAAa,EAAb,CAApB,EAAsC,EAAtC,CAAP;AACH;;AACD,MAAI,OAAOwC,GAAP,KAAe,QAAnB,EAA6B;AACzB,WAAO,IAAIjD,OAAO,CAACgB,OAAZ,CAAoByB,eAAe,CAACQ,GAAD,CAAnC,CAAP;AACH;;AACD,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AACzB,QAAI9C,gBAAgB,CAAC2B,IAAjB,CAAsBmB,GAAtB,CAAJ,EAAgC;AAC5B,aAAO,IAAIjD,OAAO,CAACgB,OAAZ,CAAoBiC,GAApB,EAAyB,EAAzB,CAAP;AACH;;AACD,QAAItB,WAAW,CAACsB,GAAD,CAAf,EAAsB;AAClB,aAAO,IAAIjD,OAAO,CAACgB,OAAZ,CAAoBC,yBAAyB,CAACgC,GAAD,EAAM,KAAN,CAA7C,EAA2D,EAA3D,CAAP;AACH;AACJ;;AACD,QAAM,IAAIjB,KAAJ,2BAA6BiB,GAA7B,EAAN;AACH;;AACDnD,OAAO,CAACkD,QAAR,GAAmBA,QAAnB;;AACA,SAASG,WAAT,CAAqBF,GAArB,EAA0B;AACtB,MAAIA,GAAG,IAAI,IAAP,IAAe,OAAOA,GAAG,CAACG,WAAX,KAA2B,UAA9C,EAA0D;AACtD,WAAO,KAAP;AACH;;AAHqB,MAIdA,WAJc,GAIEH,GAJF,CAIdG,WAJc;AAKtB,SAAQ,OAAOA,WAAW,CAACC,MAAnB,KAA8B,UAA9B,IACJ,OAAOD,WAAW,CAACE,MAAnB,KAA8B,QADlC;AAEH;;AACDxD,OAAO,CAACqD,WAAR,GAAsBA,WAAtB;;AACA,SAASI,KAAT,CAAeC,KAAf,EAAsBC,IAAtB,EAA4B;AACxB,SAAOC,KAAK,CAAClB,IAAN,CAAW;AAAEN,IAAAA,MAAM,EAAEuB,IAAI,GAAGD;AAAjB,GAAX,EAAqC,UAACG,CAAD,EAAIC,CAAJ;AAAA,WAAUJ,KAAK,GAAGI,CAAlB;AAAA,GAArC,CAAP;AACH;;AACD9D,OAAO,CAACyD,KAAR,GAAgBA,KAAhB;;AACA,SAASM,UAAT,GAAsB;AAClB,MAAMC,EAAE,GAAGC,QAAQ,CAACC,aAAT,CAAuB,uBAAvB,KACPD,QAAQ,CAACC,aAAT,CAAuB,uBAAvB,CADO,IAEPD,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,CAFO,IAGPD,QAAQ,CAACC,aAAT,CAAuB,2BAAvB,CAHJ;AADkB,2BAKSD,QAAQ,CAACE,QALlB;AAAA,MAKVC,QALU,sBAKVA,QALU;AAAA,MAKAC,IALA,sBAKAA,IALA;AAMlB,MAAMC,IAAI,GAAGN,EAAE,GAAGA,EAAE,CAACO,YAAH,CAAgB,MAAhB,CAAH,GAA6B,IAA5C;;AACA,MAAI,CAACD,IAAD,IAASA,IAAI,CAAC7C,UAAL,CAAgB,aAAhB,CAAb,EAA6C;AACzC,WAAO,IAAP;AACH;;AACD,MAAI6C,IAAI,CAAC7C,UAAL,CAAgB,SAAhB,KACA6C,IAAI,CAAC7C,UAAL,CAAgB,UAAhB,CADA,IAEA6C,IAAI,CAAC7C,UAAL,CAAgB,OAAhB,CAFJ,EAE8B;AAC1B,WAAO6C,IAAP;AACH;;AACD,MAAIA,IAAI,CAAC7C,UAAL,CAAgB,IAAhB,CAAJ,EAA2B;AACvB,WAAO2C,QAAQ,GAAGE,IAAlB;AACH;;AACD,mBAAUF,QAAV,eAAuBC,IAAvB,SAA8BC,IAA9B;AACH;;AACDtE,OAAO,CAAC+D,UAAR,GAAqBA,UAArB","sourcesContent":["\"use strict\";\r\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\r\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\r\n// Licensed under the Apache License, version 2.0\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\r\nconst types_1 = require(\"./types\");\r\nconst INT_STRING_REGEX = /^[0-9]*$/;\r\nconst HEXADECIMAL_STRING_REGEX = /^[a-f0-9]*$/;\r\nfunction hexStringFromBuffer(buf, includePrefix = false) {\r\n    const hex = buf.toString(\"hex\");\r\n    return types_1.HexString(includePrefix ? \"0x\" + hex : hex);\r\n}\r\nexports.hexStringFromBuffer = hexStringFromBuffer;\r\nfunction bigIntStringFromBN(bn) {\r\n    return types_1.BigIntString(bn.toString(10));\r\n}\r\nexports.bigIntStringFromBN = bigIntStringFromBN;\r\nfunction intNumberFromHexString(hex) {\r\n    return types_1.IntNumber(new bn_js_1.default(ensureEvenLengthHexString(hex, false), 16).toNumber());\r\n}\r\nexports.intNumberFromHexString = intNumberFromHexString;\r\nfunction hexStringFromIntNumber(num) {\r\n    return types_1.HexString(\"0x\" + new bn_js_1.default(num).toString(16));\r\n}\r\nexports.hexStringFromIntNumber = hexStringFromIntNumber;\r\nfunction has0xPrefix(str) {\r\n    return str.startsWith(\"0x\") || str.startsWith(\"0X\");\r\n}\r\nexports.has0xPrefix = has0xPrefix;\r\nfunction strip0x(hex) {\r\n    if (has0xPrefix(hex)) {\r\n        return hex.slice(2);\r\n    }\r\n    return hex;\r\n}\r\nexports.strip0x = strip0x;\r\nfunction prepend0x(hex) {\r\n    if (has0xPrefix(hex)) {\r\n        return \"0x\" + hex.slice(2);\r\n    }\r\n    return \"0x\" + hex;\r\n}\r\nexports.prepend0x = prepend0x;\r\nfunction isHexString(hex) {\r\n    if (typeof hex !== \"string\") {\r\n        return false;\r\n    }\r\n    const s = strip0x(hex).toLowerCase();\r\n    return HEXADECIMAL_STRING_REGEX.test(s);\r\n}\r\nexports.isHexString = isHexString;\r\nfunction ensureHexString(hex, includePrefix = false) {\r\n    if (typeof hex === \"string\") {\r\n        const s = strip0x(hex).toLowerCase();\r\n        if (HEXADECIMAL_STRING_REGEX.test(s)) {\r\n            return types_1.HexString(includePrefix ? \"0x\" + s : s);\r\n        }\r\n    }\r\n    throw new Error(`\"${hex}\" is not a hexadecimal string`);\r\n}\r\nexports.ensureHexString = ensureHexString;\r\nfunction ensureEvenLengthHexString(hex, includePrefix = false) {\r\n    let h = ensureHexString(hex, false);\r\n    if (h.length % 2 === 1) {\r\n        h = types_1.HexString(\"0\" + h);\r\n    }\r\n    return includePrefix ? types_1.HexString(\"0x\" + h) : h;\r\n}\r\nexports.ensureEvenLengthHexString = ensureEvenLengthHexString;\r\nfunction ensureAddressString(str) {\r\n    if (typeof str === \"string\") {\r\n        const s = strip0x(str).toLowerCase();\r\n        if (isHexString(s) && s.length === 40) {\r\n            return types_1.AddressString(prepend0x(s));\r\n        }\r\n    }\r\n    throw new Error(`Invalid Ethereum address: ${str}`);\r\n}\r\nexports.ensureAddressString = ensureAddressString;\r\nfunction ensureBuffer(str) {\r\n    if (Buffer.isBuffer(str)) {\r\n        return str;\r\n    }\r\n    if (typeof str === \"string\") {\r\n        if (isHexString(str)) {\r\n            const s = ensureEvenLengthHexString(str, false);\r\n            return Buffer.from(s, \"hex\");\r\n        }\r\n        else {\r\n            return Buffer.from(str, \"utf8\");\r\n        }\r\n    }\r\n    throw new Error(`Not binary data: ${str}`);\r\n}\r\nexports.ensureBuffer = ensureBuffer;\r\nfunction ensureIntNumber(num) {\r\n    if (typeof num === \"number\" && Number.isInteger(num)) {\r\n        return types_1.IntNumber(num);\r\n    }\r\n    if (typeof num === \"string\") {\r\n        if (INT_STRING_REGEX.test(num)) {\r\n            return types_1.IntNumber(Number(num));\r\n        }\r\n        if (isHexString(num)) {\r\n            return types_1.IntNumber(new bn_js_1.default(ensureEvenLengthHexString(num, false), 16).toNumber());\r\n        }\r\n    }\r\n    throw new Error(`Not an integer: ${num}`);\r\n}\r\nexports.ensureIntNumber = ensureIntNumber;\r\nfunction ensureRegExpString(regExp) {\r\n    if (regExp instanceof RegExp) {\r\n        return types_1.RegExpString(regExp.toString());\r\n    }\r\n    throw new Error(`Not a RegExp: ${regExp}`);\r\n}\r\nexports.ensureRegExpString = ensureRegExpString;\r\nfunction ensureBN(val) {\r\n    if (val != null && (bn_js_1.default.isBN(val) || isBigNumber(val))) {\r\n        return new bn_js_1.default(val.toString(10), 10);\r\n    }\r\n    if (typeof val === \"number\") {\r\n        return new bn_js_1.default(ensureIntNumber(val));\r\n    }\r\n    if (typeof val === \"string\") {\r\n        if (INT_STRING_REGEX.test(val)) {\r\n            return new bn_js_1.default(val, 10);\r\n        }\r\n        if (isHexString(val)) {\r\n            return new bn_js_1.default(ensureEvenLengthHexString(val, false), 16);\r\n        }\r\n    }\r\n    throw new Error(`Not an integer: ${val}`);\r\n}\r\nexports.ensureBN = ensureBN;\r\nfunction isBigNumber(val) {\r\n    if (val == null || typeof val.constructor !== \"function\") {\r\n        return false;\r\n    }\r\n    const { constructor } = val;\r\n    return (typeof constructor.config === \"function\" &&\r\n        typeof constructor.EUCLID === \"number\");\r\n}\r\nexports.isBigNumber = isBigNumber;\r\nfunction range(start, stop) {\r\n    return Array.from({ length: stop - start }, (_, i) => start + i);\r\n}\r\nexports.range = range;\r\nfunction getFavicon() {\r\n    const el = document.querySelector('link[sizes=\"192x192\"]') ||\r\n        document.querySelector('link[sizes=\"180x180\"]') ||\r\n        document.querySelector('link[rel=\"icon\"]') ||\r\n        document.querySelector('link[rel=\"shortcut icon\"]');\r\n    const { protocol, host } = document.location;\r\n    const href = el ? el.getAttribute(\"href\") : null;\r\n    if (!href || href.startsWith(\"javascript:\")) {\r\n        return null;\r\n    }\r\n    if (href.startsWith(\"http://\") ||\r\n        href.startsWith(\"https://\") ||\r\n        href.startsWith(\"data:\")) {\r\n        return href;\r\n    }\r\n    if (href.startsWith(\"//\")) {\r\n        return protocol + href;\r\n    }\r\n    return `${protocol}//${host}${href}`;\r\n}\r\nexports.getFavicon = getFavicon;\r\n"]},"metadata":{},"sourceType":"script"}