{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useCallback,useMemo}from'react';import{diffTokenLists}from'@uniswap/token-lists';import{Button,Text}from'@pancakeswap-libs/uikit';import{useDispatch}from'react-redux';import{useRemovePopup}from'../../state/application/hooks';import{acceptListUpdate}from'../../state/lists/actions';import listVersionLabel from'../../utils/listVersionLabel';import{AutoColumn}from'../Column';import{AutoRow}from'../Row';export default function ListUpdatePopup(_ref){var popKey=_ref.popKey,listUrl=_ref.listUrl,oldList=_ref.oldList,newList=_ref.newList,auto=_ref.auto;var removePopup=useRemovePopup();var removeThisPopup=useCallback(function(){return removePopup(popKey);},[popKey,removePopup]);var dispatch=useDispatch();var handleAcceptUpdate=useCallback(function(){if(auto)return;dispatch(acceptListUpdate(listUrl));removeThisPopup();},[auto,dispatch,listUrl,removeThisPopup]);var _useMemo=useMemo(function(){return diffTokenLists(oldList.tokens,newList.tokens);},[newList.tokens,oldList.tokens]),tokensAdded=_useMemo.added,tokensChanged=_useMemo.changed,tokensRemoved=_useMemo.removed;var numTokensChanged=useMemo(function(){return Object.keys(tokensChanged).reduce(function(memo,chainId){return memo+Object.keys(tokensChanged[chainId]).length;},0);},[tokensChanged]);return/*#__PURE__*/_jsx(AutoRow,{children:/*#__PURE__*/_jsx(AutoColumn,{style:{flex:'1'},gap:\"8px\",children:auto?/*#__PURE__*/_jsxs(Text,{children:[\"The token list \\\"\",oldList.name,\"\\\" has been updated to\",' ',/*#__PURE__*/_jsx(\"strong\",{children:listVersionLabel(newList.version)}),\".\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Text,{fontSize:\"14px\",children:[\"An update is available for the token list \\\"\",oldList.name,\"\\\" (\",listVersionLabel(oldList.version),\" to \",listVersionLabel(newList.version),\").\"]}),/*#__PURE__*/_jsxs(\"ul\",{children:[tokensAdded.length>0?/*#__PURE__*/_jsxs(\"li\",{children:[tokensAdded.map(function(token,i){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"strong\",{title:token.address,children:token.symbol}),i===tokensAdded.length-1?null:', ']},\"\".concat(token.chainId,\"-\").concat(token.address));}),' ',\"added\"]}):null,tokensRemoved.length>0?/*#__PURE__*/_jsxs(\"li\",{children:[tokensRemoved.map(function(token,i){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"strong\",{title:token.address,children:token.symbol}),i===tokensRemoved.length-1?null:', ']},\"\".concat(token.chainId,\"-\").concat(token.address));}),' ',\"removed\"]}):null,numTokensChanged>0?/*#__PURE__*/_jsxs(\"li\",{children:[numTokensChanged,\" tokens updated\"]}):null]})]}),/*#__PURE__*/_jsxs(AutoRow,{children:[/*#__PURE__*/_jsx(\"div\",{style:{flexGrow:1,marginRight:12},children:/*#__PURE__*/_jsx(Button,{onClick:handleAcceptUpdate,children:\"Accept update\"})}),/*#__PURE__*/_jsx(\"div\",{style:{flexGrow:1},children:/*#__PURE__*/_jsx(Button,{onClick:removeThisPopup,children:\"Dismiss\"})})]})]})})});}","map":{"version":3,"sources":["C:/Users/Prodip/Desktop/New folder/Newfolder1/XinoSwapTestnet/src/components/Popups/ListUpdatePopup.tsx"],"names":["React","useCallback","useMemo","diffTokenLists","Button","Text","useDispatch","useRemovePopup","acceptListUpdate","listVersionLabel","AutoColumn","AutoRow","ListUpdatePopup","popKey","listUrl","oldList","newList","auto","removePopup","removeThisPopup","dispatch","handleAcceptUpdate","tokens","tokensAdded","added","tokensChanged","changed","tokensRemoved","removed","numTokensChanged","Object","keys","reduce","memo","chainId","length","flex","name","version","map","token","i","address","symbol","flexGrow","marginRight"],"mappings":"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","sourcesContent":["import React, { useCallback, useMemo } from 'react'\r\nimport { diffTokenLists, TokenList } from '@uniswap/token-lists'\r\nimport { Button, Text } from '@pancakeswap-libs/uikit'\r\nimport { useDispatch } from 'react-redux'\r\nimport { AppDispatch } from '../../state'\r\nimport { useRemovePopup } from '../../state/application/hooks'\r\nimport { acceptListUpdate } from '../../state/lists/actions'\r\nimport listVersionLabel from '../../utils/listVersionLabel'\r\nimport { AutoColumn } from '../Column'\r\nimport { AutoRow } from '../Row'\r\n\r\nexport default function ListUpdatePopup({\r\n  popKey,\r\n  listUrl,\r\n  oldList,\r\n  newList,\r\n  auto,\r\n}: {\r\n  popKey: string\r\n  listUrl: string\r\n  oldList: TokenList\r\n  newList: TokenList\r\n  auto: boolean\r\n}) {\r\n  const removePopup = useRemovePopup()\r\n  const removeThisPopup = useCallback(() => removePopup(popKey), [popKey, removePopup])\r\n  const dispatch = useDispatch<AppDispatch>()\r\n\r\n  const handleAcceptUpdate = useCallback(() => {\r\n    if (auto) return\r\n    dispatch(acceptListUpdate(listUrl))\r\n    removeThisPopup()\r\n  }, [auto, dispatch, listUrl, removeThisPopup])\r\n\r\n  const { added: tokensAdded, changed: tokensChanged, removed: tokensRemoved } = useMemo(() => {\r\n    return diffTokenLists(oldList.tokens, newList.tokens)\r\n  }, [newList.tokens, oldList.tokens])\r\n  const numTokensChanged = useMemo(\r\n    () =>\r\n      Object.keys(tokensChanged).reduce((memo, chainId: any) => memo + Object.keys(tokensChanged[chainId]).length, 0),\r\n    [tokensChanged]\r\n  )\r\n\r\n  return (\r\n    <AutoRow>\r\n      <AutoColumn style={{ flex: '1' }} gap=\"8px\">\r\n        {auto ? (\r\n          <Text>\r\n            The token list &quot;{oldList.name}&quot; has been updated to{' '}\r\n            <strong>{listVersionLabel(newList.version)}</strong>.\r\n          </Text>\r\n        ) : (\r\n          <>\r\n            <div>\r\n              <Text fontSize=\"14px\">\r\n                An update is available for the token list &quot;{oldList.name}&quot; (\r\n                {listVersionLabel(oldList.version)} to {listVersionLabel(newList.version)}).\r\n              </Text>\r\n              <ul>\r\n                {tokensAdded.length > 0 ? (\r\n                  <li>\r\n                    {tokensAdded.map((token, i) => (\r\n                      <React.Fragment key={`${token.chainId}-${token.address}`}>\r\n                        <strong title={token.address}>{token.symbol}</strong>\r\n                        {i === tokensAdded.length - 1 ? null : ', '}\r\n                      </React.Fragment>\r\n                    ))}{' '}\r\n                    added\r\n                  </li>\r\n                ) : null}\r\n                {tokensRemoved.length > 0 ? (\r\n                  <li>\r\n                    {tokensRemoved.map((token, i) => (\r\n                      <React.Fragment key={`${token.chainId}-${token.address}`}>\r\n                        <strong title={token.address}>{token.symbol}</strong>\r\n                        {i === tokensRemoved.length - 1 ? null : ', '}\r\n                      </React.Fragment>\r\n                    ))}{' '}\r\n                    removed\r\n                  </li>\r\n                ) : null}\r\n                {numTokensChanged > 0 ? <li>{numTokensChanged} tokens updated</li> : null}\r\n              </ul>\r\n            </div>\r\n            <AutoRow>\r\n              <div style={{ flexGrow: 1, marginRight: 12 }}>\r\n                <Button onClick={handleAcceptUpdate}>Accept update</Button>\r\n              </div>\r\n              <div style={{ flexGrow: 1 }}>\r\n                <Button onClick={removeThisPopup}>Dismiss</Button>\r\n              </div>\r\n            </AutoRow>\r\n          </>\r\n        )}\r\n      </AutoColumn>\r\n    </AutoRow>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}